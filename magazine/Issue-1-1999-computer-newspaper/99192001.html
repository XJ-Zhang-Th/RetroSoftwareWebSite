<html>
<body style="font-size:9pt;line-height=150%" bgcolor="#FFFFF">
<p><span style="font-family:宋体;font-size:12pt">
华硕P2B主板的改进</span>


<hr size="1" color="#000080"></p>
　　笔者于去年10月购得一块华硕P2B主板，硬件版本1.02。在这几个月的使用过程中我逐渐发现了该主板一些美中不足之处，并不断地一一作了改进，详情如下。<br>
　　P2B上有温感测插针却无测温配件，难道要我们的高档主板连这个初级功能也没有?
<p align="center"><b>增加测温功能</b></p>
　　现在的主板几乎都是智能型主板，华硕P2B也不例外。在众多的系统监控功能中，我们最关心的莫过于对CPU及其他部件的温度测控。但进入BIOS以及《华硕系统诊断家》却发现只有主板而无CPU的温度显示。翻阅主板说明书，才知道主板上有温度感测插针（见图1），上为CPU的温度感测插针，下为电源的温度感测插针，但无内页说明。上华硕新闻组，发现许多人都有此疑问，后来才知道需要测温配件。由于华硕没有随板附送，大家也都在四处寻找和求购。我打电话向代理商求援，他们也爱莫能助，由此我萌生了自己解决的念头。</p>
　　<img src="images/20-1.gif" width="181" height="211"><br>
　　　　　　　　　图1</p>
　　察看主板，发现温度感测插针只有两根，由此我立即联想到热敏电阻，因为在简单的测温和温控场合，热敏电阻是最常用的测温元件。即便如此，热敏电阻的阻值以及温度系数或热敏电阻常数（专业上称B值）又是多少？在没有任何资料的情况下，只有通过试验来回答这些问题。热敏电阻之所以能测温，是因为它的电阻值随温度变化而变化，而电阻值的变化转变为电压（或电流）的变化，再由模/数转换变换，即可知当时的温度值。因而可以用一可变电阻来代替热敏电阻，通过观测阻值的变化和温度显示值之间的关系推断出上述参数的具体值。<br>
　　主板上的温度感测插针是标准间距的，所以很快找到插头并将阻值为20k的精密可调电位器连接好。在温度感测插针上加接一阻值很大的电阻是不会造成任何损坏的。先将电位器调到阻值较大的位置，开机并进入BIOS，发现有温度显示了，我一阵兴奋。调节电位器，温度显示值也相应在变。根据电阻值以及温度显示值的变化规律，可知所需的热敏电阻应是负温度系数的，也就是说，温度升高时其电阻值下降。调节电位器，使温度显示值为25℃，测得此时电位器的阻值是10k，也就使说，应选用标称阻值为10k的热敏电阻。一般，热敏电阻的标称值就是在温度为25℃时的电阻值。至于温度系数或B值，由于在BIOS中温度显示有正负0.5℃的误差，无法作精确测算。不管它，即使测得了，也不可能去定做，还是先买几个回来试试。冲进电子商城，买来南京无线电十一厂生产的MF51型。MF51型价格稍贵（5元），细长型玻璃封装（如图2所示），结构小巧，精度高，一致性好，灵敏度高，其B值为3600希BIOS中温度显示值准确无误。</p>
　　<img src="images/20-2.gif" width="118" height="124"><br>
　　　　　　图2</p>
　　我是用一杯水和温度计进行校准的。由此可知，所谓的测温配件就是阻值是10k的负温度系数的热敏电阻，但要求B值为3600稀Ｊ导噬希你不仅可以用它测CPU的温度，还可以用它测显卡、内存条以及硬盘等设备的温度。你只需有足够长的软线，便可将热敏电阻安放其上并记住此时计算机内显示的CPU温度值即是你所测设备的温度值。使用时需注意的是，该热敏电阻的温度敏感部位是玻璃封装尖部的小黑点，所以应让被测设备紧靠此处并导热良好，如此可获得较高的测量精度。此外，其引脚要用绝缘套管套好，再用热缩套管封套，制成后如图3。</p>
　　<img src="images/20-3.gif" width="167" height="109"><br>
　　　　　　　　图3</p>
　　图4是显示温度窗口，让人奇怪的是，主板上有电源电路的温度感测插针却在BIOS及华硕的PC Probe中无相应的温度显示。</p>
　　<img src="images/20-4.gif" width="227" height="143"><br>
　　　　　　　　　　图4</p>
　　华硕在主板电压上也要另辟歧径，是利是弊那就得见仁见智了。不过，要改它却也并非难事。
<p align="center"><b>板上开关电源的改进</b></p>
　　随着CPU核心电压的越来越低，所需的电流却越来越大，过去线性降压方式已不堪重负。开关电源以其高效率低发热早已将它全面取代。在老奔时代，我正是因此而选择了华硕T2P4主板。而今的P2B又有了和其他主板的不同之处，即其板上的3.3伏供电并不是由ATX电源供给，而是由5伏电源经板上的开关电路变换得到。这样做有两方面的好处，首先，由于该开关电路是独立的，使得板上的3.3伏供电不受负载及其他电路等变化的影响，从而更稳定；其次，该开关电路的开关频率为200KHz，远高于ATX电源中45KHz的开关频率，由此所需的滤波电容更少，动态特性更佳。其缺点是加重了5伏电源的负担，而让ATX电源中3.3伏电源闲置不用。<br>
　　刚开始时，我也想当然地认为板上的3.3伏电是由ATX电源供给的，所以当在BIOS（或华硕的PC Probe）中看到3.3伏供电的电压值是3.5伏时，认为是ATX电源设计不合理造成的。实际上，这里显示的是板上3.3伏供电的确切电压值，即板上开关电路的输出值。巧的是，由于ATX电源中3.3伏供电部分空载（未用），用电压表测得电压值也是3.5伏，使我更加确信就是ATX电源的问题。3.3伏供电除了CPU还涉及到板上的芯片组、AGP插卡、PCI插卡以及内存条，3.5伏是否合适？上网查阅有关AGP及PCI规范，得知其3.3伏供电的最大限是3.45伏，也查得SDRAM厂商要求3.3伏供电的最大上限也是3.45伏。在网上，也有人提到此事，并认为是华硕公司为了主板的稳定和可超频。实际上，也应该看到它的另一面，它不仅使各设备超负荷运行，而且使原本发热就很严重的芯片组、显卡等更是雪上加霜，任何情况下的发热严重也会导致不稳定。没有人回答也没有人问我们是否有这个必要。我是很反感长时间超负荷使用的，于是要求电源供应商测试我的电源，结果当然是电源没问题，符合设计规范。<br>
　　我也不管那么多，自己动手将电压值调下来，打开电源，绘出并分析其原理，改变其反馈回路从而调低了其电压输出值。奇怪的是，ATX电源输出电压降低了，可板上3.3伏供电的电压值却纹丝不动。仔细分析主板后我才明白板上的3.3伏供电的真伪。为达目的，只能对板上开关电路进行调节了。我开始研究主板上的开关变换电路。板上的开关变换电路是最近才出现的，芯片厂商也为之推出了新的控制芯片，但是相关资料难找。再用放大镜观测主板上的相关电路，发现在没有相关资料的情况下，欲想绘出其原理图是很难的，只好暂时搁下。<br>
　　是发烧友的都会关心CPU的核心电压，我也不例外。无论是BIOS或是华硕的PC Probe，对CPU核心电压只能显示到小数点后面的一位，为了精确测得CPU的核心电压，我用数字式万用表进行测量。我的CPU是SL2W8，其核心电压应为2.0伏，实测却只有1.95伏，难怪超频到500时进了DOS却进不了Win98。如此我下定决心对主板上的开关电源电路摸一摸。通过一段时间的努力，虽没有找到直接资料，但根据各点的工作电位、波形以及结合开关电源的基本原理，对它有了进一步的了解。<br>
　　主板上开关电源的原理图如图5所示。</p>
　　<img src="images/20-5.gif" width="138" height="191"><br>
　　　　　　　图5</p>
　　Q1、Q2是N沟道MOS场效应管，其中，Q1是开关管，Q2是同步整流管。同步整流可保证具有高于90的转换效率。控制器根据反馈端FB的反馈电压值对A点脉冲的宽度（即占空比）进行调整，从而使输出点B的电压值稳定。P2B主板上CPU核心电压以及3.3伏的开关变换电路是分开的，但它们皆由控制器HIP6019控制。它们在主板上的位置如图1所示。对于CPU核心电压的开关变换电路，控制器可根据CPU引脚中VID0～VID4电平的高低（在CPU内或是接地或悬空，通过主板上的上拉电阻，便有了高低电平，我们平常所说的贴脚，就相当于CPU内对该脚的悬空处理），并按照Intel的规定对反馈端FB的反馈电压值进行调整，如此就可使开关变换电路输出符合特定CPU要求的核心电压。在P2B中，对于核心电压的开关变换电路，R1的阻值远远大于R2的阻值，反馈电压即为输出电压值。对于3.3伏的开关变换电路反馈电压值是恒定的，即控制器内提供的参考电平，主板厂商，通过选用不同阻值的R1 和R2使输出有不同的电压值。从上述电路的工作原理不难看出，只要适当调整反馈用的电阻网络就可随心所欲地调整其输出电压。<br>
　　P2B主板上CPU核心电压以及3.3伏开关变换电路的反馈电阻网络如图6所示（未画全）。</p>
　　<img src="images/20-6.gif" width="201" height="168"><br>
　　　　　　　　　图6</p>
　　图中的A、B以及FB，原理同图5。核心电压开关变换的反馈电路在控制芯片的上部，3.3伏开关变换的反馈电路在控制芯片的左部和左下部，它们的元件标识符都在其左边。主板中R41和R35对应位置处空置，并没有焊接电阻，图中以虚线框表示。由图6我们不难看出，它们并没有从输出端取得直流电平反馈。也就是说，此反馈网络只保证图5中A点的直流电平稳定。由于电感线圈内阻的存在，图5中B点的直流电平，也就是其输出，将随着负载电流的增加而减小。特别是对于核心电压，超频到450MHz时，其电流达14安培，电感线圈上的直流压降将大于0.05伏。实测A点稳定在2.0伏，而B点，即CPU得到的核心电压不超过1.95伏，同时，该电压随CPU负载的轻重而有所增减。这正好与我们要求超频或重负载时，为了稳定而略微调高CPU核心电压的常识相反。这也许是P2B主板在各种超频实战中表现欠佳的原因所在。华硕这种以不变应万变的策略也许是为了其主板的高可靠性。变化越小，出乱子的可能性也越小。但在我接触到的有关资料中，都是由B点即输出引入电压反馈，这增加了我作以下改进的信心，即将电压反馈由原来的A点改接到B点。<br>
　　对于核心电压，可简单地将R36位置上的电阻拆下，焊接到R35的空位置上去。如此操作后，测得B点电位稳定在2.0伏，我的SL2W8超频到500MHz时，可以进入Win98并能运行所有程序。对于3.3伏，同样将R30位置上的电阻拆下，焊接到R41的空位置上去。为了降低3.3伏的输出电压值，我又在R30空出的位置上焊接了一阻值为30k的贴片电阻，如此能使输出电压值正好是3.3伏。为了得到其他值的电压输出，你可以用100k的精密电位器代替这30k的贴片电阻，调节电位器直到你所需的电压值（阻值越小，电压值越小）。只要你愿意，你完全可以将电压值调到3伏以下。对于核心电压，是否也能如此随心所欲地实现无级调节？回答是肯定的。你只要在图5中C点对地之间焊接一只200k的精密电位器，你就可以实现核心电压从2.05伏到5伏的无级调级（200k对应于2.05伏；100k对应于2.1伏；50k对应于2.2伏；阻值越小，电压值越大）。当然，这些工作是不容易的，主板上的贴片电阻很小，有时你必需借助放大镜。如果你不是焊接高手，劝君三思。另外，调节电位器时其阻值应由大向小调节，为了防止意外你可串接一阻值相当的电阻。上述操作虽通过本人的实践检验，但再次提醒你要小心谨慎，失之毫厘，差之千里，什么情况都是有可能发生的。你必需明白你在干什么，并检查N次无误后（最好用放大镜和万用表），方可通电。改进后我用存储示波器观测了各点的工作波形，稳定可靠无异常。你若需要观测各点的电位和波形，除了加倍小心外，你最好用一根针代替原探头。我在测各点的电位时由于探头太粗以及不慎，曾两次引起短路从而出现保护性关机，此时需要关闭ATX电源后面的220伏开关再重新开机。<br>
　　最后，建议你将主板上许多空着位置却未焊的电源滤波电容补焊上，这对提高系统的稳定性有好处。此外，你如果在CPU插座旁那一排滤波电容的引脚上（主板反面）加焊47微法的贴片钽电容和2.2微法的高频滤波电容，你会有意想不到的收获。
<p align="center"><b>其他</b></p>
　　你如果使用华硕的PC Probe检测系统的状态，建议你升级到2.1版本。原版本在对系统测试的那个时刻，对CPU的占用率特别高，可使游戏等复杂程序的运行打盹，新版软件对此作了改进。升级网址：http://www.asus.com.tw/ftp/drives/probe.exe。<br>
　　P2B的BIOS内建符合Win98规格的加强型ACPI功能，但在安装Win98时，并不能自动识别和安装驱动程序。可通过修改注册表的方法让Win98检测并安装该功能。进入注册表HKEY_LOCAL_MACHINE/(oftware/(icrosoft/)Windows/(urrentVersion(etect，新建字符串acpioption，并设键值为1。查找新硬件或重新开机，Win98便能检测和安装该功能。之后你会发现系统属性中的系统设备发生了变化，同时，电源管理中高级标签下就有了电源按钮的定义，就像将BIOS搬了家。在Win98下开启该功能，最大的收益还在于拥有了CPU的节能也就是降温功能。其功用同我们熟悉的降温软件，但由于此功能是基于BIOS和Win98，因而不仅效果显著而且具有很高的可靠性和兼容性。当然你若能下载并使用最新的BIOS，那就再好不过了，你遇到的问题将会更少。<br><b>（江苏 金昕）</b><p align="right"><font COLOR="#000000">本文出自：<a href="index.htm">《电脑报》1999年05月17日第19期</a></font> 
</body>
</html>
<html>
<body style="font-size:9pt;line-height=150%" bgcolor="#FFFFF">
<p><span style="font-family:宋体;font-size:12pt">3D加速芯片的过去和未来（下）</span>
</p>
<hr size="1" color="#000080"></p>
<b>发展规律</b></p>
　　3D图形质量也是非常重要的，这同3D加速芯片不断增加的各种3D特性有关，也与3D API的支持是分不开的。最初Glide专用API可以提供令人满意的3D图像质量，那时的OpenGL太专业化，而DirectX太简陋。现在DirectX 6的效果已经同Glide不相上下，OpenGL的大多数特性在普通3D芯片上都获得了支持，当DirectX 8出现时，OpenGL将同它合并成为统一的高质量的3D API――Fahrenhest。3D加速芯片最初只支持简单的平面涂色、Gourand涂色和较小的纹理数据，后来逐渐加入了半透明混合、二线性过滤、三线性过滤。现在最新的芯片可以进行各向异性过滤、巨大纹理贴图、压缩纹理贴图、全屏幕抗锯齿、凹凸贴图以及各种特殊的具有很强表现力的效果。<br>
　　3D加速芯片的复杂结构是实现高速度、高质量3D图形的基础。在“史前世代”简单的3D加速结构的基础上，先是加快了芯片的时钟频率以提高速度，并添上了一些必要的3D特性以改善图像质量，有部分芯片还集成了三角形设置引擎以减少CPU和系统总线的的负担，这就是第一代（按目前主流的说法应是第二代）3D芯片的结构。在此基础上，再将时钟频率提升到制造工艺所能承受的极限，添加比较完整的3D特性组，有些芯片用并行处理机制提高速度，有些则采用更新的工作原理，并且几乎所有芯片都集成了高性能的三角形设置引擎，采用了AGP 2×总线和128位显示内存接口，这时的第二代3D芯片（按目前主流的说法应是第三代）的处理速度与图形质量都达到了大多数用户可以接受的程度。第三代产品（按目前主流的说法应是第四代）相对第二代改进不多，一方面采用新的生产工艺进一步提升时钟频率，整体上采用极为复杂的结构，大量使用并行处理，采用AGP 4×接口，拥有近乎全面的3D特性组。而会在今年年底出现的第四代3D加速芯片（按目前主流的说法应是第五代）将集成几何加速部分，已不再受CPU浮点能力的制约。更复杂、更高频率的结构将使复杂曲面等尖端的3D效果成为可能，3D图形将更加接近于真实的世界。关于3D图形处理流程，可以参见图2。<br>
　　3D加速卡的价格一向是用户最关心的项目之一。随着3D加速芯片和显示内存的制造技术不断提高，成本不断降低，它们的最终售价不论性能和容量如何提高，总是会降到同一水准上来，于是3D加速卡的价格也会最终降低到某一标准。在国内，刚上市的3D显示卡一般会在1000元以上，有时甚至会在2000元以上，这时只有“大款”才会去尝鲜。随后，因为更强大的产品上市，价格会逐渐下跌到1000元以下，于是，一些硬件发烧友和手头宽裕的新装机者就会开始购买。再跌到400～700元时，该显示卡如果没有被淘汰就会进入显示卡市场的主流阶段，销量较大。再跌下去不到400元时，应该认为这种卡已经过时，只有手头紧的或不关心3D的朋友才会去买它。显示卡产品的降价速度一向不输于CPU，这表明我们总是可以用同样的价格买到更好的产品。而产品入市时的最初定价反映了整个市场的价格水平：Voodoo和Voodoo 2刚上市时都是卖2000多元，Riva TNT上市时是1800元，到现在Voodoo 3上市则是1500元以下了，TNT 2也是1500元左右。这表明整个3D显示卡市场正在逐渐向中低价位靠拢，而且随着技术的不断进步，3D加速卡的价格将变得越来越平易近人。</p>

<b>展望未来</b></p>

　　关于3D图形加速芯片的未来，现在我们已经可以看到一些迹象与趋势，其中最最吸引人的当数几何加速的硬件化。以往3D图形处理的前一半几何计算部分，几乎全部是由CPU经过大量的浮点运算来完成的（只有少数专业场合使用专用的硬连线几何加速器来实现），尽管有了AMD的3DNow！和Intel的SSE指令集来并行执行浮点指令，CPU的处理能力仍不能满足日益增加的3D图形处理任务的需要，因此在3D加速芯片或芯片组中添入硬件几何加速功能就变得越来越紧迫。<br>
　　几何加速又可以分为坐标变换和光源效果两部分运算过程。通过用3D芯片实现坐标变换，可以使CPU从繁重的空间坐标计算中脱身出来，从而可以处理更复杂的场景和情节，粗略算来，大约可以使游戏中使用的几何图形在现有基础上增加10到20倍；另外还可以节省大量的系统带宽，因为CPU只要直接将数据传给3D芯片而不必在CPU和系统内存之间多次交换。由3D芯片进行光源效果处理则可以大大提高总体性能和图形质量：现有的大多数3D游戏都是用复杂的纹理混合功能来模拟出光源的效果，只使用1到2个真正的光源，因为暂时光源效果计算仍是CPU密集型操作。一旦应用了3D硬件加速的光源效果，我们就可以较容易地得到2到4个光源，甚至有可能多达8个光源，虽然利用纹理贴图方法制造出的模拟光源不会很快消失，但我们将会看到灿烂夺目的真实光源被普遍使用。现在的API中只有OpenGL支持硬件坐标变换和光源效果加速，而将在今年秋天出现的Directx 7也将添加同样的几何加速支持。在芯片设计上，NVIDIA的Riva TNT3将几何加速部分集成在同一块3D芯片内，而3Dfx为了避免失误，据说将在新一代“Napalm”芯片组中加入一块单独的几何加速芯片。<br>
　　更高的渲染质量也是3D硬件的一个顺理成章的发展。很有可能将来的3D芯片将有4个或更多的并行操作3D渲染流水线，而更复杂的结构要求更细微的半导体制造工艺，更高级的工艺带来的是更高的时钟频率，总体的结果是大大提高的像素填充速度，也就意味着更加精细漂亮的图像。可编程纹理则是一个创造性的概念，让我们可以即时计算出千变万化的物体表面纹理，尽管其运算量是非常大的。而噪声纹理可以产生不规则的甚至“脏”的纹理效果，能够给人以更真实的感觉。模板缓存是DirectX 6中就已经支持的效果，将来可以被广泛地用于生成部分空间的阴影、雾化等效果。被称作“穷人的纹理压缩”的硬件调色板功能，通过为不同的纹理提供单独的调色板，从而每种纹理只需使用256种色彩，能够大大减少纹理数据量。所有这些新的渲染效果不但需要3D芯片有更强的处理能力，而且也需要更大的显示内存，因此今后的显示卡拥有64MB显存将是家常便饭。<br>
　　更好的场景控制使我们能够利用3D图形生成异常复杂的场景，例如有12000匹马和170000士兵参加的滑铁卢战役。当Fahrencheit API随着DirectX 8的出现成为现实，我们就能在主流PC系统中见到称作“scenegraph”的复杂场景控制功能。<br>
　　在更远的将来，我们将会期待更多的三角形产生率和更高的像素填充率，于是将会得到更复杂的阴影、雾化，更漂亮真实的曲面，从远到近连续变化的纹理，更细腻的抗锯齿功能，甚至数千粒子组成的火焰等物体。但是，由于集成电路的晶体管数不可能无限增加，几年后也许我们将看到3D芯片的性能接近极限，照片级的真实3D效果也许仍将非常遥远。<br>
　　回首3D图形加速技术的来时路，面对多少产品的成败，多少厂商的沉浮，还有多少用户的失望与希望，我们还能多说些什么呢？“青山依旧在，几度夕阳红”，我们的目标永远在前方。(全文完)<br>
<b>(朱云)</b> <p align="right">
<span class="ourfont"><font color="#369681">本文出自：</font><a href="index.htm">《电脑报》1998年06月14日第23期</a>
</body>
</html>